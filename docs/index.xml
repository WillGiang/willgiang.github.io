<?xml version="1.0" encoding="UTF-8"?>
<rss  xmlns:atom="http://www.w3.org/2005/Atom" 
      xmlns:media="http://search.yahoo.com/mrss/" 
      xmlns:content="http://purl.org/rss/1.0/modules/content/" 
      xmlns:dc="http://purl.org/dc/elements/1.1/" 
      version="2.0">
<channel>
<title>In and Out of Scope</title>
<link>https://willgiang.github.io/index.html</link>
<atom:link href="https://willgiang.github.io/index.xml" rel="self" type="application/rss+xml"/>
<description></description>
<image>
<url>https://willgiang.github.io/DSM3-2-2_render.png</url>
<title>In and Out of Scope</title>
<link>https://willgiang.github.io/index.html</link>
</image>
<generator>quarto-1.3.433</generator>
<lastBuildDate>Thu, 03 Aug 2023 04:00:00 GMT</lastBuildDate>
<item>
  <title>Image restoration with deep learning</title>
  <dc:creator>William Giang</dc:creator>
  <link>https://willgiang.github.io/posts/2023-08-03_techniques-in-NCB-paper/2023-08-03_Image-Restoration.html</link>
  <description><![CDATA[ 




<section id="pyramid-of-frustration" class="level1">
<h1>Pyramid of frustration</h1>
<p>A successful live-cell fluorescence microscopy experiment needs to balance spatial/temporal -resolution, sample viability, and image quality which collectively form the “pyramid of frustration”.</p>
<p>If the camera exposure time is too long, then motion blur becomes a problem. Shortening the exposure time sacrifices image quality–unless the laser power is increased<sup>1</sup>. But higher laser power leads to increased odds of phototoxicity (compromising the experiment) and photobleaching (limiting the number of useful images while contributing to phototoxicity).</p>
</section>
<section id="image-restoration-with-deep-learning" class="level1 page-columns page-full">
<h1>Image restoration with deep learning</h1>
<p>Deep learning image resolution techniques can handle images with very poor signal-to-noise ratios. Relaxed image quality constraints allow for faster and/or gentler imaging.</p>
<section id="drcan" class="level2">
<h2 class="anchored" data-anchor-id="drcan">3DRCAN</h2>
<div id="fig-3drcan" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="https://willgiang.github.io/posts/2023-08-03_techniques-in-NCB-paper/src/3DRCAN-comparison.gif" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Figure&nbsp;1: Endoplasmic reticulum tubules before (top-right) and after denoising with 3DRCAN (bottom-left)</figcaption>
</figure>
</div>
<p>When performing the experiments for the <a href="https://www.nature.com/articles/s41556-023-01154-4">paper</a>, <a href="https://www.nature.com/articles/s41592-021-01155-x">3DRCAN</a> was among the state-of-the-art image restoration techniques.</p>
<p>There were two downsides to 3DRCAN which limited its use in the paper.</p>
<ol type="1">
<li>Requires paired images (low/high quality) for training</li>
<li>Potential to hallucinate at very low signal to noise ratios</li>
</ol>
<section id="difficulties-with-obtaining-paired-training-data" class="level3">
<h3 class="anchored" data-anchor-id="difficulties-with-obtaining-paired-training-data">Difficulties with obtaining paired training data</h3>
<p>We used an epithelial cell line (A431) stably expressing:</p>
<table class="table">
<thead>
<tr class="header">
<th>Marker</th>
<th>Tagged fluorescent protein</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Desmosome</td>
<td>Desmoplakin-EGFP</td>
</tr>
<tr class="even">
<td>ER <sup>2</sup></td>
<td>mApple-VAPB</td>
</tr>
</tbody>
</table>
<p>Fixation<sup>3</sup> and mounting<sup>4</sup> conditions were carefully optimized to preserve ER integrity and cell morphology.</p>
<p>mApple-VAPB’s fixation-induced brightness reduction necessitated longer exposure times and/or higher laser power. However, the spinning disk confocal microscope used to be in a room with poor temperature stability which can lead to stage/sample drift. The longer it takes to acquire a z-stack, the higher the risk of misregistration between the matching datasets which would hamper 3DRCAN performance.</p>
<p>ER morphology in A431 cells can be quite varied–especially as a function of mApple-VAPB expression. To ensure robustness of training data (ER morphology, mApple-VAPB expression levels), 37 datasets were used.</p>
<p>Overall, obtaining training paired data was a bit of a hassle.</p>
</section>
<section id="artefacts-from-3drcan" class="level3">
<h3 class="anchored" data-anchor-id="artefacts-from-3drcan">Artefacts from 3DRCAN</h3>
<p>Although 3DRCAN did great with ER tubules, the restoration of ER sheet-like structures (especially in the dense perinuclear region) was a little suspect. Denoising of other fluorescence microscopy data used Noise2Void–which notably does not require paired training data.</p>
</section>
</section>
<section id="noise2void-n2v" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="noise2void-n2v">Noise2Void (N2V)</h2>
<p>One reason to like Noise2Void is that its training data can consist solely of noisy images.</p>
<p>Note: Fixed pattern noise (from the sCMOS camera) is still visible after N2V, but it was dramatically reduced with 3DRCAN.</p>
<div class="column-screen quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div id="Raw-for-N2V" class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://willgiang.github.io/posts/2023-08-03_techniques-in-NCB-paper/src/MIP-raw.gif" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Max intensity projection of mApple-VAPB in A431 cells over an hour (raw)</figcaption>
</figure>
</div>
</div>
<div id="N2V-for-N2V" class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://willgiang.github.io/posts/2023-08-03_techniques-in-NCB-paper/src/MIP-N2V.gif" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Max intensity projection of mApple-VAPB in A431 cells over an hour (with Noise2Void)</figcaption>
</figure>
</div>
</div>
</div>
</div>
</section>
<section id="n2v2" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="n2v2">N2V2</h2>
<p>Previous examples showed the power of image restoration on fluorescence microscopy datasets, but electron microscopy datasets can also be denoised!</p>

<div class="no-row-height column-margin column-container"><div class="">
<p>The total acquisition time for one of our FIBSEM datasets took 8 days. Scope time is precious, so scanning slower is not an option. Increasing beam energy could lead to sample damage or deeper penetration–when we only want the surface.</p>
</div></div><p>Noise2Void was initially applied to the Focused Ion Beam Scanning Electron Microscopy (FIBSEM) datasets, but checkerboard artefacts hindered automated segmentation of certain objects.</p>
<p>Fortunately during paper revisions, N2V2 became available!</p>
<p>Compare between raw, Noise2Void, and N2V2 below.</p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs"><li class="nav-item"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" aria-controls="tabset-1-1" aria-selected="true">raw</a></li><li class="nav-item"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" aria-controls="tabset-1-2" aria-selected="false">N2V</a></li><li class="nav-item"><a class="nav-link" id="tabset-1-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-3" aria-controls="tabset-1-3" aria-selected="false">N2V2</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" aria-labelledby="tabset-1-1-tab">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://willgiang.github.io/posts/2023-08-03_techniques-in-NCB-paper/src/01_raw.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Small crop of a FIBSEM dataset with 4x4x4 nm voxels.</figcaption>
</figure>
</div>
</div>
<div id="tabset-1-2" class="tab-pane" aria-labelledby="tabset-1-2-tab">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://willgiang.github.io/posts/2023-08-03_techniques-in-NCB-paper/src/02_N2V.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Small crop of a FIBSEM dataset with 4x4x4 nm voxels.</figcaption>
</figure>
</div>
</div>
<div id="tabset-1-3" class="tab-pane" aria-labelledby="tabset-1-3-tab">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://willgiang.github.io/posts/2023-08-03_techniques-in-NCB-paper/src/03_N2V2.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Small crop of a FIBSEM dataset with 4x4x4 nm voxels.</figcaption>
</figure>
</div>
</div>
</div>
</div>


<!-- -->

</section>
</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>(and the fluorophore can handle it)↩︎</p></li>
<li id="fn2"><p>Did you know <a href="https://www.nature.com/articles/s41467-017-00494-8">Sec61B has reduced abundance in certain peripheral tubules</a>?↩︎</p></li>
<li id="fn3"><p>ER is generally not well-preserved with typical chemical fixation protocols, but I didn’t know how to cryofix yet.↩︎</p></li>
<li id="fn4"><p>We saw more flattening with ProLong Glass than with ProLong Gold.↩︎</p></li>
</ol>
</section></div> ]]></description>
  <category>microscopy</category>
  <category>analysis</category>
  <category>deep-learning</category>
  <guid>https://willgiang.github.io/posts/2023-08-03_techniques-in-NCB-paper/2023-08-03_Image-Restoration.html</guid>
  <pubDate>Thu, 03 Aug 2023 04:00:00 GMT</pubDate>
</item>
<item>
  <title>Educational Resources and Tools</title>
  <dc:creator>William Giang</dc:creator>
  <link>https://willgiang.github.io/posts/2023-06-13_Educational-Resources/Educational-Resources.html</link>
  <description><![CDATA[ 




<section id="resources-for-beginners" class="level2">
<h2 class="anchored" data-anchor-id="resources-for-beginners">Resources for beginners</h2>
<p>For understanding digital images, image formation, and basic image processing and analysis, my all-time favorite resource has to be Pete Bankhead’s <a href="https://bioimagebook.github.io/index.html">Introduction to Bioimage Analysis</a>.</p>
<p>For more details about fluorescence microscopy, <a href="https://myscope.training/#/LMlevel_2_1">MyScope (Microscopy Austrailia)</a> is a good resource–especially if you go through their simulators for confocal/STED microscopy.</p>
<table class="table">
<caption>Collection of online beginner resources with content category indicated by the icons <span class="emoji" data-emoji="heavy_check_mark">✔️</span> and <span class="emoji" data-emoji="x">❌</span>.</caption>
<thead>
<tr class="header">
<th>Name</th>
<th>Sample Prep</th>
<th>Microscopy</th>
<th>Analysis<sup>1</sup></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="https://bioimagebook.github.io/index.html">Introduction to Bioimage Analysis</a></td>
<td><span class="emoji" data-emoji="x">❌</span></td>
<td><span class="emoji" data-emoji="heavy_check_mark">✔️</span></td>
<td><span class="emoji" data-emoji="heavy_check_mark">✔️</span></td>
</tr>
<tr class="even">
<td><a href="https://myscope.training/#/LMlevel_2_1">MyScope (Microscopy Austrailia)</a></td>
<td><span class="emoji" data-emoji="x">❌</span></td>
<td><span class="emoji" data-emoji="heavy_check_mark">✔️</span></td>
<td><span class="emoji" data-emoji="x">❌</span></td>
</tr>
<tr class="odd">
<td><a href="https://www.youtube.com/c/Microcourses">Microcourses</a></td>
<td><span class="emoji" data-emoji="x">❌</span></td>
<td><span class="emoji" data-emoji="heavy_check_mark">✔️</span></td>
<td><span class="emoji" data-emoji="x">❌</span></td>
</tr>
<tr class="even">
<td><a href="https://www.microscopyu.com/">MicroscopyU (Nikon)</a></td>
<td><span class="emoji" data-emoji="heavy_check_mark">✔️</span></td>
<td><span class="emoji" data-emoji="heavy_check_mark">✔️</span></td>
<td><span class="emoji" data-emoji="x">❌</span></td>
</tr>
<tr class="odd">
<td><a href="https://rupress.org/jcb/article/218/5/1452/120908/Designing-a-rigorous-microscopy-experiment">Designing a rigorous microscopy experiment: Validating methods and avoiding bias</a></td>
<td><span class="emoji" data-emoji="heavy_check_mark">✔️</span></td>
<td><span class="emoji" data-emoji="heavy_check_mark">✔️</span></td>
<td><span class="emoji" data-emoji="heavy_check_mark">✔️</span></td>
</tr>
<tr class="even">
<td><a href="https://www.nature.com/articles/s41596-020-0313-9">Tutorial: guidance for quantitative confocal</a></td>
<td><span class="emoji" data-emoji="heavy_check_mark">✔️</span></td>
<td><span class="emoji" data-emoji="heavy_check_mark">✔️</span></td>
<td><span class="emoji" data-emoji="heavy_check_mark">✔️</span></td>
</tr>
<tr class="odd">
<td><a href="https://bridges.monash.edu/articles/educational_resource/Fiji_Training_Manual_v6_5_/21901989">Fiji Training Notes (Cameron Nowell)</a></td>
<td><span class="emoji" data-emoji="x">❌</span></td>
<td><span class="emoji" data-emoji="x">❌</span></td>
<td><span class="emoji" data-emoji="heavy_check_mark">✔️</span></td>
</tr>
<tr class="even">
<td><a href="https://www.youtube.com/playlist?list=PL5ESQNfM5lc7SAMstEu082ivW4BDMvd0U">Lecture BioImage Analysis 2020 (Robert Haase)</a></td>
<td><span class="emoji" data-emoji="x">❌</span></td>
<td><span class="emoji" data-emoji="x">❌</span></td>
<td><span class="emoji" data-emoji="heavy_check_mark">✔️</span></td>
</tr>
</tbody>
</table>
</section>
<section id="colocalization" class="level2">
<h2 class="anchored" data-anchor-id="colocalization">Colocalization</h2>
<p>Colocalization is a frequent analysis request, but avoid the common pitfalls!</p>
<table class="table">
<caption>Collection of colocalization resources</caption>
<thead>
<tr class="header">
<th>Name</th>
<th>Sample Prep</th>
<th>Microscopy</th>
<th>Analysis</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="https://imagej.net/imaging/colocalization-analysis">Colocalization Analysis (ImageJ)</a></td>
<td><span class="emoji" data-emoji="x">❌</span></td>
<td><span class="emoji" data-emoji="x">❌</span></td>
<td><span class="emoji" data-emoji="heavy_check_mark">✔️</span></td>
</tr>
<tr class="even">
<td><a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC3074624/">A practical guide to evaluating colocalization in biological microscopy</a></td>
<td><span class="emoji" data-emoji="x">❌</span></td>
<td><span class="emoji" data-emoji="x">❌</span></td>
<td><span class="emoji" data-emoji="heavy_check_mark">✔️</span></td>
</tr>
<tr class="odd">
<td><a href="https://journals.biologists.com/jcs/article/131/3/jcs211847/77151/Image-co-localization-co-occurrence-versus">Image co-localization–co-occurrence versus correlation</a></td>
<td><span class="emoji" data-emoji="x">❌</span></td>
<td><span class="emoji" data-emoji="heavy_check_mark">✔️</span></td>
<td><span class="emoji" data-emoji="heavy_check_mark">✔️</span></td>
</tr>
<tr class="even">
<td><a href="https://docs.google.com/presentation/d/1ptm-dbG9yN_BmTkxl8yOnFY8jbB7fRoOzrHVUY16s1c/edit#slide=id.g94c31bc59f_0_0">A localization tale</a></td>
<td><span class="emoji" data-emoji="x">❌</span></td>
<td><span class="emoji" data-emoji="x">❌</span></td>
<td><span class="emoji" data-emoji="heavy_check_mark">✔️</span></td>
</tr>
<tr class="odd">
<td><a href="https://www.youtube.com/watch?v=P2JvFe0hB_M">Deconstructing co-localisation workflows: A journey into the black boxes</a></td>
<td><span class="emoji" data-emoji="x">❌</span></td>
<td><span class="emoji" data-emoji="heavy_check_mark">✔️</span></td>
<td><span class="emoji" data-emoji="heavy_check_mark">✔️</span></td>
</tr>
</tbody>
</table>
</section>
<section id="light-sheet" class="level2">
<h2 class="anchored" data-anchor-id="light-sheet">Light-sheet</h2>
<table class="table">
<caption>Collection of light-sheet resources with content category indicated by the icons <span class="emoji" data-emoji="heavy_check_mark">✔️</span> and <span class="emoji" data-emoji="x">❌</span>.</caption>
<thead>
<tr class="header">
<th>Name</th>
<th>Sample Prep</th>
<th>Microscopy</th>
<th>Analysis</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="https://www.nature.com/articles/s41596-021-00502-8">Tutorial: practical considerations for tissue clearing and imaging</a></td>
<td><span class="emoji" data-emoji="heavy_check_mark">✔️</span></td>
<td><span class="emoji" data-emoji="heavy_check_mark">✔️</span></td>
<td><span class="emoji" data-emoji="x">❌</span></td>
</tr>
<tr class="even">
<td><a href="https://www.nature.com/articles/s41592-022-01632-x">Practical considerations for quantitative light sheet fluorescence microscopy</a></td>
<td><span class="emoji" data-emoji="x">❌</span></td>
<td><span class="emoji" data-emoji="heavy_check_mark">✔️</span></td>
<td><span class="emoji" data-emoji="heavy_check_mark">✔️</span></td>
</tr>
</tbody>
</table>
</section>
<section id="analysis-software-downloads-and-resources" class="level2">
<h2 class="anchored" data-anchor-id="analysis-software-downloads-and-resources">Analysis software downloads and resources</h2>
<p>While the free viewers from microscope companies can be helpful for inspecting metadata in an easy-to-parse way<sup>2</sup>, knowing how to use Fiji (or ImageJ with Bio-Formats) will be more beneficial for beginners. Most likely, you’ll need to use microscopes from different companies and also use Fiji for some processing/analysis.</p>
<table class="table">
<thead>
<tr class="header">
<th>Name</th>
<th>Brief Description</th>
<th>Resources</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><a href="https://fiji.sc/">Fiji</a></td>
<td>A “batteries-included” distribution of ImageJ</td>
<td><a href="https://imagej.net/learn/">link</a></td>
</tr>
<tr class="even">
<td><a href="https://www.microscope.healthcare.nikon.com/products/software/nis-elements/viewer">NIS-Elements Viewer</a></td>
<td>Nikon’s free standalone program for .nd2 files</td>
<td></td>
</tr>
<tr class="odd">
<td><a href="https://imaris.oxinst.com/imaris-viewer">Imaris Viewer</a></td>
<td>Free 3D/4D image viewer (limited!)</td>
<td><a href="https://imaris.oxinst.com/homeschool">Imaris Homeschool</a></td>
</tr>
<tr class="even">
<td><a href="https://www.leica-microsystems.com/products/microscope-software/p/leica-las-x-ls/downloads/">Leica LAS X Office</a></td>
<td>Free software for viewing Leica files</td>
<td></td>
</tr>
<tr class="odd">
<td><a href="https://svi.nl/HomePage">SVI Huygens</a></td>
<td>Deconvolution, Visualization, Analysis</td>
<td><a href="https://www.youtube.com/watch?v=UODclB0TPSg">Deconvolution video</a></td>
</tr>
</tbody>
</table>
<section id="fiji-plugins-and-macros" class="level3">
<h3 class="anchored" data-anchor-id="fiji-plugins-and-macros">Fiji Plugins and Macros</h3>
<p>Exporting a .lif file to individual .tifs can be done through Fiji. One macro that does the trick can be found <a href="https://github.com/pmascalchi/ImageJ_Export-LIF-as-Individual-Images">here</a>. See <a href="https://www.youtube.com/playlist?list=PL3BZUVMG21mvojErrOMw0KQvHxoGTitNj">my video instructions</a>.</p>
<p>Setting colors and adjusting brightness &amp; contrast for multi-channel datasets can be done through <a href="https://c4science.ch/w/bioimaging_and_optics_platform_biop/image-processing/imagej_tools/ijab-biop_channel_tools/">BIOP Channel Tools</a>.</p>
</section>
</section>
<section id="acquisition-scope-specific" class="level2">
<h2 class="anchored" data-anchor-id="acquisition-scope-specific">Acquisition (scope-specific)</h2>
<p>My documentation for a Nikon Ti2-E with a Yokogawa CSU-X1 spinning disk unit and 405nm photostimulation capabilities can be found <a href="https://willgiang.github.io/scope-docs-site/">online</a>.</p>
<p>My video tutorials for the Advanced Light Microscopy Core’s Leica SP8 FALCON and Leica SP8 STED 3X are on <a href="https://www.youtube.com/playlist?list=PL3BZUVMG21mtACjh-THnm5JTHY_zHb6o8">YouTube</a></p>


<!-- -->

</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>Due to space limitations, “Analysis” refers to both image analysis and processing.↩︎</p></li>
<li id="fn2"><p>Another benefit of looking at .nd2 files using NIS-Elements Viewer (as opposed to Bio-Formats) is the faster loading which is especially helpful if inspecting metadata is the sole goal.↩︎</p></li>
</ol>
</section></div> ]]></description>
  <category>sample-prep</category>
  <category>microscopy</category>
  <category>analysis</category>
  <category>resources</category>
  <guid>https://willgiang.github.io/posts/2023-06-13_Educational-Resources/Educational-Resources.html</guid>
  <pubDate>Tue, 13 Jun 2023 04:00:00 GMT</pubDate>
</item>
<item>
  <title>Spinning Disk Confocal PSFs with PSFmodels</title>
  <dc:creator>William Giang</dc:creator>
  <link>https://willgiang.github.io/posts/2023-06-04_Spinning-Disk-Confocal-PSFs/Spinning-Disk-Confocal-PSFs-with-psfmodels.html</link>
  <description><![CDATA[ 




<section id="motivation" class="level2">
<h2 class="anchored" data-anchor-id="motivation">Motivation</h2>
<p>Obtaining an accurate point spread function (PSF) is vital for good deconvolution.</p>
<p>Here’s how to obtain the <code>pinhole_au</code> parameter for generating a <a href="https://github.com/tlambert03/PSFmodels/blob/a7815b2d256bca501aff674e059dc9685631b942/src/psfmodels/_core.py#L575">confocal PSF</a> in <a href="https://github.com/tlambert03/PSFmodels">Talley Lambert’s PSFmodels</a>.</p>
</section>
<section id="theory" class="level2">
<h2 class="anchored" data-anchor-id="theory">Theory</h2>
<p>A measure of confocality (in Airy units) is the ratio between the back projected pinhole radius and the radius of the Airy disk.</p>
<p>Since the back projected pinhole radius (<img src="https://latex.codecogs.com/png.latex?R_%7BBP%7D">) is the size of the pinhole radius projected on the sample plane, it can be calculated with the pinhole radius (<img src="https://latex.codecogs.com/png.latex?R_%7BPR%7D">) divided by the total magnification between the pinhole(s) and the sample, which includes the objective’s magnification (<img src="https://latex.codecogs.com/png.latex?M_%7BO%7D">) and other potential sources of intermediate magnification (<img src="https://latex.codecogs.com/png.latex?M_%7BI%7D">)</p>
<p><img src="https://latex.codecogs.com/png.latex?%20R_%7BBP%7D%20=%20%7BR_%7BPR%7D%20%5Cover%20M_%7BO%7D%20*%20M_%7BI%7D%7D%20"></p>
<p>The radius of an Airy disk (<img src="https://latex.codecogs.com/png.latex?R_%7BA%7D">) is equivalent to Rayleigh’s lateral resolution criterion which is the product of 0.61 and wavelength (<img src="https://latex.codecogs.com/png.latex?%5Clambda">) divided by the numerical aperture (<img src="https://latex.codecogs.com/png.latex?NA">)</p>
<p><img src="https://latex.codecogs.com/png.latex?%20R_%7BA%7D%20=%200.61%20%7B%5Clambda%20%5Cover%20NA%20%7D%20"></p>
</section>
<section id="confocality-with-yokogawa-csu-x1" class="level2">
<h2 class="anchored" data-anchor-id="confocality-with-yokogawa-csu-x1">Confocality with Yokogawa CSU-X1</h2>
<p>With a physical pinhole radius of 25 microns, the Yokogawa CSU-X1 spinning disk unit is optimized for high resolution live-cell imaging, so we should expect a smaller confocality value when imaging with a high resolution objective than with a lower resolution objective.</p>
<p>Let’s compare the confocality between two objectives (100x/1.49 and 20x/0.75) when imaging EGFP (emission peak wavelength at 509nm).</p>
<table class="table">
<colgroup>
<col style="width: 9%">
<col style="width: 3%">
<col style="width: 12%">
<col style="width: 38%">
<col style="width: 23%">
<col style="width: 12%">
</colgroup>
<thead>
<tr class="header">
<th>Objective Mag</th>
<th>Objective NA</th>
<th><img src="https://latex.codecogs.com/png.latex?%5Clambda"> (um)</th>
<th>Back Projected Pinhole Radius (um)</th>
<th>Airy Disk Radius (um)</th>
<th>Confocality (Airy units)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>20x</td>
<td>0.75</td>
<td>0.509</td>
<td>1.25</td>
<td>0.414</td>
<td>3</td>
</tr>
<tr class="even">
<td>100x</td>
<td>1.49</td>
<td>0.509</td>
<td>0.166</td>
<td>0.208</td>
<td>1.2</td>
</tr>
</tbody>
</table>
<div class="cell" data-tags="[&quot;hide-input&quot;]" data-execution_count="1">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> psfmodels <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> psfm</span>
<span id="cb1-2"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> numpy <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> np</span>
<span id="cb1-3"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> matplotlib.pyplot <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> plt</span>
<span id="cb1-4"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> matplotlib.colors <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> PowerNorm</span>
<span id="cb1-5"></span>
<span id="cb1-6"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">def</span> backProjectedPinholeRadius(PinholeRadius, MagObjective, MagIntermediate<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>):</span>
<span id="cb1-7">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""</span></span>
<span id="cb1-8"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    Return the back projected pinhole radius for a spinning disk confocal unit.</span></span>
<span id="cb1-9"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    </span></span>
<span id="cb1-10"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    Parameters</span></span>
<span id="cb1-11"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    ----------</span></span>
<span id="cb1-12"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    PinholeRadius : float</span></span>
<span id="cb1-13"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">        Physical radius of the pinhole</span></span>
<span id="cb1-14"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    MagObjective : int</span></span>
<span id="cb1-15"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">        Magnification of the objective</span></span>
<span id="cb1-16"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    MagIntermediate : float</span></span>
<span id="cb1-17"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">        Other magnification between the spinning disk and sample</span></span>
<span id="cb1-18"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">        </span></span>
<span id="cb1-19"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    Returns</span></span>
<span id="cb1-20"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    -------</span></span>
<span id="cb1-21"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    float</span></span>
<span id="cb1-22"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">        The `pinholeRadius` divided by both `MagObjective` and `MagIntermediate`</span></span>
<span id="cb1-23"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    </span></span>
<span id="cb1-24"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    Examples</span></span>
<span id="cb1-25"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    --------</span></span>
<span id="cb1-26"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    &gt;&gt;&gt; backProjectedPinholeRadius(25, 100)</span></span>
<span id="cb1-27"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    0.25</span></span>
<span id="cb1-28"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    &gt;&gt;&gt; backProjectedPinholeRadius(25, 100, 1.5)</span></span>
<span id="cb1-29"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    0.16666666666666666</span></span>
<span id="cb1-30"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    """</span></span>
<span id="cb1-31">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">return</span> PinholeRadius <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span> (MagObjective<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span>MagIntermediate)</span>
<span id="cb1-32"></span>
<span id="cb1-33"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">def</span> airyDiskRadius(wavelength, NA):</span>
<span id="cb1-34">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""</span></span>
<span id="cb1-35"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    Return the radius of an Airy Disk given a wavelength and numerical aperture.</span></span>
<span id="cb1-36"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    </span></span>
<span id="cb1-37"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    Parameters</span></span>
<span id="cb1-38"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    ----------</span></span>
<span id="cb1-39"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    wavelength : float</span></span>
<span id="cb1-40"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">        Wavelength</span></span>
<span id="cb1-41"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    NA : float</span></span>
<span id="cb1-42"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">        Numerical aperture of the objective</span></span>
<span id="cb1-43"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    </span></span>
<span id="cb1-44"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    Returns</span></span>
<span id="cb1-45"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    -------</span></span>
<span id="cb1-46"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    float</span></span>
<span id="cb1-47"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">        0.61 multiplied by `wavelength` and divided by `NA`</span></span>
<span id="cb1-48"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">        </span></span>
<span id="cb1-49"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    Examples</span></span>
<span id="cb1-50"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    --------</span></span>
<span id="cb1-51"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    &gt;&gt;&gt; airyDiskRadius(509, 1.49)</span></span>
<span id="cb1-52"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    208.38</span></span>
<span id="cb1-53"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    &gt;&gt;&gt; airyDiskRadius(509, 0.75)</span></span>
<span id="cb1-54"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    413.99</span></span>
<span id="cb1-55"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    """</span></span>
<span id="cb1-56">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">return</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.61</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> wavelength <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span> NA</span>
<span id="cb1-57"></span>
<span id="cb1-58"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">def</span> confocality(BackProjectedPinholeRadius, AiryDiskRadius):</span>
<span id="cb1-59">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""</span></span>
<span id="cb1-60"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    Return the confocality (in Airy Units) for a spinning disk confocal</span></span>
<span id="cb1-61"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    </span></span>
<span id="cb1-62"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    Parameters</span></span>
<span id="cb1-63"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    ----------</span></span>
<span id="cb1-64"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    BackProjectedPinholeRadius : float</span></span>
<span id="cb1-65"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">        The pinhole radius projected on the sample plane</span></span>
<span id="cb1-66"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    AiryDiskRadius : float</span></span>
<span id="cb1-67"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">        The radius of an Airy Disk (also equivalent to Rayleigh's lateral resolution)</span></span>
<span id="cb1-68"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    </span></span>
<span id="cb1-69"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    Returns</span></span>
<span id="cb1-70"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    -------</span></span>
<span id="cb1-71"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    float</span></span>
<span id="cb1-72"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">        The `BackProjectedPinholeRadius` divided by the `AiryDiskRadius`</span></span>
<span id="cb1-73"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    </span></span>
<span id="cb1-74"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    Examples</span></span>
<span id="cb1-75"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    --------</span></span>
<span id="cb1-76"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    &gt;&gt;&gt; confocality(0.25, 0.208)</span></span>
<span id="cb1-77"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    1.2</span></span>
<span id="cb1-78"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    &gt;&gt;&gt; confocality(1.25, 0.6)</span></span>
<span id="cb1-79"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    2.1</span></span>
<span id="cb1-80"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    """</span></span>
<span id="cb1-81">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">return</span> BackProjectedPinholeRadius<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span>AiryDiskRadius</span>
<span id="cb1-82"></span>
<span id="cb1-83"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">def</span> plotConfocalPSF(params):</span>
<span id="cb1-84">    <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">"""</span></span>
<span id="cb1-85"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    Returns the confocal PSF while plotting lateral and axial views.</span></span>
<span id="cb1-86"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">    """</span></span>
<span id="cb1-87">    nz <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> params[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"nx"</span>]</span>
<span id="cb1-88">    </span>
<span id="cb1-89">    ConfocalPSF <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> psfm.confocal_psf(<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">**</span>params)</span>
<span id="cb1-90">    fig, (ax1, ax2) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> plt.subplots(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>)</span>
<span id="cb1-91">    ax1.imshow(ConfocalPSF[nz<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">//</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>], norm <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> PowerNorm(gamma<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.4</span>))</span>
<span id="cb1-92">    ax2.imshow(ConfocalPSF[:,params[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"nx"</span>]<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">//</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>], norm <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> PowerNorm(gamma<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.4</span>))</span>
<span id="cb1-93">    </span>
<span id="cb1-94">    ax1.set_title(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"lateral"</span>)</span>
<span id="cb1-95">    ax2.set_title(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"axial"</span>)</span>
<span id="cb1-96">    </span>
<span id="cb1-97">    figtitle1 <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"NA:</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{}</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;"> | pinhole_au:</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{}</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;"> | em_wvl:</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{}</span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">\n</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>.<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">format</span>(</span>
<span id="cb1-98">        params[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"NA"</span>],</span>
<span id="cb1-99">        <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">round</span>(params[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"pinhole_au"</span>], <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>),</span>
<span id="cb1-100">        params[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"em_wvl"</span>],</span>
<span id="cb1-101">    )</span>
<span id="cb1-102">    figtitle2 <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"sample RI:</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{}</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;"> | immersion medium RI:</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{}</span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">\n</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>.<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">format</span>(</span>
<span id="cb1-103">        params[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ns"</span>],</span>
<span id="cb1-104">        params[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ni"</span>]</span>
<span id="cb1-105">    )</span>
<span id="cb1-106">    figtitle3 <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"depth:</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{}</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;"> | model:</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{}</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>.<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">format</span>(</span>
<span id="cb1-107">        params[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"pz"</span>],</span>
<span id="cb1-108">        params[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"model"</span>],</span>
<span id="cb1-109">    )</span>
<span id="cb1-110">    </span>
<span id="cb1-111">    fig.suptitle(figtitle1 <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> figtitle2 <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> figtitle3</span>
<span id="cb1-112">        )</span>
<span id="cb1-113">    </span>
<span id="cb1-114">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">return</span> ConfocalPSF</span></code></pre></div>
</details>
</div>
<section id="optimal-imaging-with-an-oil-immersion-objective-at-the-coverslip" class="level3">
<h3 class="anchored" data-anchor-id="optimal-imaging-with-an-oil-immersion-objective-at-the-coverslip">Optimal imaging with an oil immersion objective at the coverslip</h3>
<p>First, let’s consider an optimal PSF where the location is right at the coverslip and the sample is mounted in an RI-matched solution.</p>
<div class="cell" data-tags="[&quot;hide-input&quot;]" data-execution_count="2">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1">ex_wvl <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.488</span></span>
<span id="cb2-2">em_wvl <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.509</span></span>
<span id="cb2-3">pinhole_radius <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">25</span></span>
<span id="cb2-4">mag_objective <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span></span>
<span id="cb2-5">NA <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1.49</span></span>
<span id="cb2-6">pinhole_radius_BP <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> backProjectedPinholeRadius(pinhole_radius, mag_objective)</span>
<span id="cb2-7">airy_disk_radius <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> airyDiskRadius(em_wvl, NA)</span>
<span id="cb2-8"></span>
<span id="cb2-9">pinhole_au <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> confocality(pinhole_radius_BP, airy_disk_radius)</span>
<span id="cb2-10"></span>
<span id="cb2-11">oil_RI <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1.515</span></span>
<span id="cb2-12">pz <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span></span>
<span id="cb2-13"></span>
<span id="cb2-14">X1Params_high_res_index_matched <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> {</span>
<span id="cb2-15">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"nx"</span> : <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">51</span>, <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># XY size of output PSF in pixels, must be odd</span></span>
<span id="cb2-16">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"pz"</span> : pz,  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># depth of point source relative to coverslip (um)</span></span>
<span id="cb2-17">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"NA"</span> : NA, <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># numerical aperture</span></span>
<span id="cb2-18">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ti0"</span>: <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">150</span>,  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># working distance of the objective (um)</span></span>
<span id="cb2-19">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ni"</span> : oil_RI, <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># immersion medium refractive index, experimental value</span></span>
<span id="cb2-20">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ni0"</span>: oil_RI,  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># immersion medium refractive index, design value</span></span>
<span id="cb2-21">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ex_wvl"</span> : ex_wvl, <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># excitation wavelength (um)</span></span>
<span id="cb2-22">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"em_wvl"</span> : em_wvl, <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># emission wavelength (um)</span></span>
<span id="cb2-23">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ns"</span>   : oil_RI, <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># sample refractive index</span></span>
<span id="cb2-24">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"pinhole_au"</span> : pinhole_au, <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># pinhole size (Airy units)</span></span>
<span id="cb2-25">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"model"</span> : <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"vectorial"</span>,</span>
<span id="cb2-26">}</span>
<span id="cb2-27"></span>
<span id="cb2-28">PSF_fixed <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> plotConfocalPSF(X1Params_high_res_index_matched)</span></code></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="https://willgiang.github.io/posts/2023-06-04_Spinning-Disk-Confocal-PSFs/Spinning-Disk-Confocal-PSFs-with-psfmodels_files/figure-html/cell-3-output-1.png" width="566" height="393"></p>
</div>
</div>
<p>Note the symmetrical nature of the axial view when things are optimal.</p>
</section>
<section id="imaging-with-an-oil-immersion-objective-depth2" class="level3">
<h3 class="anchored" data-anchor-id="imaging-with-an-oil-immersion-objective-depth2">Imaging with an oil immersion objective, depth=2</h3>
<p>Even at a depth of 2 microns away from the coverslip, not much changes if the RI of the sample matches the RI of the immersion oil</p>
<div class="cell" data-tags="[&quot;hide-input&quot;]" data-execution_count="3">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1">ex_wvl <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.488</span></span>
<span id="cb3-2">em_wvl <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.509</span></span>
<span id="cb3-3">pinhole_radius <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">25</span></span>
<span id="cb3-4">mag_objective <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span></span>
<span id="cb3-5">NA <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1.49</span></span>
<span id="cb3-6">pinhole_radius_BP <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> backProjectedPinholeRadius(pinhole_radius, mag_objective)</span>
<span id="cb3-7">airy_disk_radius <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> airyDiskRadius(em_wvl, NA)</span>
<span id="cb3-8"></span>
<span id="cb3-9">pinhole_au <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> confocality(pinhole_radius_BP, airy_disk_radius)</span>
<span id="cb3-10"></span>
<span id="cb3-11">oil_RI <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1.515</span></span>
<span id="cb3-12">pz <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span></span>
<span id="cb3-13"></span>
<span id="cb3-14">X1Params_high_res_index_matched_2um <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> {</span>
<span id="cb3-15">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"nx"</span> : <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">51</span>, <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># XY size of output PSF in pixels, must be odd</span></span>
<span id="cb3-16">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"pz"</span> : pz,  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># depth of point source relative to coverslip (um)</span></span>
<span id="cb3-17">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"NA"</span> : NA, <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># numerical aperture</span></span>
<span id="cb3-18">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ti0"</span>: <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">150</span>,  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># working distance of the objective (um)</span></span>
<span id="cb3-19">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ni"</span> : oil_RI, <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># immersion medium refractive index, experimental value</span></span>
<span id="cb3-20">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ni0"</span>: oil_RI,  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># immersion medium refractive index, design value</span></span>
<span id="cb3-21">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ex_wvl"</span> : ex_wvl, <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># excitation wavelength (um)</span></span>
<span id="cb3-22">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"em_wvl"</span> : em_wvl, <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># emission wavelength (um)</span></span>
<span id="cb3-23">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ns"</span>   : oil_RI, <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># sample refractive index</span></span>
<span id="cb3-24">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"pinhole_au"</span> : pinhole_au, <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># pinhole size (Airy units)</span></span>
<span id="cb3-25">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"model"</span> : <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"vectorial"</span>,</span>
<span id="cb3-26">}</span>
<span id="cb3-27"></span>
<span id="cb3-28">PSF_fixed_2um <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> plotConfocalPSF(X1Params_high_res_index_matched_2um)</span></code></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="https://willgiang.github.io/posts/2023-06-04_Spinning-Disk-Confocal-PSFs/Spinning-Disk-Confocal-PSFs-with-psfmodels_files/figure-html/cell-4-output-1.png" width="566" height="393"></p>
</div>
</div>
</section>
<section id="imaging-in-dmem-with-an-oil-objective-at-depth-0" class="level3">
<h3 class="anchored" data-anchor-id="imaging-in-dmem-with-an-oil-objective-at-depth-0">Imaging in DMEM with an oil objective at depth = 0</h3>
<p>Then, let’s consider a realistic example: live-cell imaging in DMEM</p>
<div class="cell" data-tags="[&quot;hide-input&quot;]" data-execution_count="4">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1">ex_wvl <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.488</span></span>
<span id="cb4-2">em_wvl <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.509</span></span>
<span id="cb4-3">pinhole_radius <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">25</span></span>
<span id="cb4-4">mag_objective <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span></span>
<span id="cb4-5">NA <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1.49</span></span>
<span id="cb4-6">pinhole_radius_BP <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> backProjectedPinholeRadius(pinhole_radius, mag_objective)</span>
<span id="cb4-7">airy_disk_radius <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> airyDiskRadius(em_wvl, NA)</span>
<span id="cb4-8"></span>
<span id="cb4-9">pinhole_au <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> confocality(pinhole_radius_BP, airy_disk_radius)</span>
<span id="cb4-10"></span>
<span id="cb4-11">oil_RI <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1.515</span></span>
<span id="cb4-12">DMEM_RI <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1.34</span> <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># DMEM with 10% FBS</span></span>
<span id="cb4-13">pz <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span></span>
<span id="cb4-14"></span>
<span id="cb4-15">X1Params_livecell <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> {</span>
<span id="cb4-16">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"nx"</span> : <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">51</span>, <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># XY size of output PSF in pixels, must be odd</span></span>
<span id="cb4-17">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"pz"</span> : pz,  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># depth of point source relative to coverslip (um)</span></span>
<span id="cb4-18">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"NA"</span> : NA, <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># numerical aperture</span></span>
<span id="cb4-19">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ti0"</span>: <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">150</span>,  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># working distance of the objective (um)</span></span>
<span id="cb4-20">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ni"</span> : oil_RI, <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># immersion medium refractive index, experimental value</span></span>
<span id="cb4-21">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ni0"</span>: oil_RI,  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># immersion medium refractive index, design value</span></span>
<span id="cb4-22">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ex_wvl"</span> : ex_wvl, <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># excitation wavelength (um)</span></span>
<span id="cb4-23">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"em_wvl"</span> : em_wvl, <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># emission wavelength (um)</span></span>
<span id="cb4-24">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ns"</span>   : DMEM_RI, <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># sample refractive index</span></span>
<span id="cb4-25">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"pinhole_au"</span> : pinhole_au, <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># pinhole size (Airy units)</span></span>
<span id="cb4-26">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"model"</span> : <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"vectorial"</span>,</span>
<span id="cb4-27">}</span>
<span id="cb4-28"></span>
<span id="cb4-29"></span>
<span id="cb4-30">PSF_livecell <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> plotConfocalPSF(X1Params_livecell)</span></code></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="https://willgiang.github.io/posts/2023-06-04_Spinning-Disk-Confocal-PSFs/Spinning-Disk-Confocal-PSFs-with-psfmodels_files/figure-html/cell-5-output-1.png" width="566" height="393"></p>
</div>
</div>
</section>
<section id="imaging-in-dmem-with-an-oil-objective-at-depth-2" class="level3">
<h3 class="anchored" data-anchor-id="imaging-in-dmem-with-an-oil-objective-at-depth-2">Imaging in DMEM with an oil objective at depth = 2</h3>
<p>Axial resolution will deteriorate as the focus position moves away from the coverslip.</p>
<p>Let’s consider imaging at a depth of two microns</p>
<div class="cell" data-tags="[&quot;hide-input&quot;]" data-execution_count="5">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1">ex_wvl <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.488</span></span>
<span id="cb5-2">em_wvl <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.509</span></span>
<span id="cb5-3">pinhole_radius <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">25</span></span>
<span id="cb5-4">mag_objective <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span></span>
<span id="cb5-5">NA <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1.49</span></span>
<span id="cb5-6">pinhole_radius_BP <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> backProjectedPinholeRadius(pinhole_radius, mag_objective)</span>
<span id="cb5-7">airy_disk_radius <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> airyDiskRadius(em_wvl, NA)</span>
<span id="cb5-8"></span>
<span id="cb5-9">pinhole_au <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> confocality(pinhole_radius_BP, airy_disk_radius)</span>
<span id="cb5-10"></span>
<span id="cb5-11">oil_RI <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1.515</span></span>
<span id="cb5-12">DMEM_RI <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1.34</span> <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># DMEM with 10% FBS</span></span>
<span id="cb5-13">pz <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span></span>
<span id="cb5-14"></span>
<span id="cb5-15">X1Params_livecell_2um <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> {</span>
<span id="cb5-16">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"nx"</span> : <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">51</span>, <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># XY size of output PSF in pixels, must be odd</span></span>
<span id="cb5-17">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"pz"</span> : pz,  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># depth of point source relative to coverslip (um)</span></span>
<span id="cb5-18">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"NA"</span> : NA, <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># numerical aperture</span></span>
<span id="cb5-19">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ti0"</span>: <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">150</span>,  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># working distance of the objective (um)</span></span>
<span id="cb5-20">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ni"</span> : oil_RI, <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># immersion medium refractive index, experimental value</span></span>
<span id="cb5-21">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ni0"</span>: oil_RI,  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># immersion medium refractive index, design value</span></span>
<span id="cb5-22">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ex_wvl"</span> : ex_wvl, <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># excitation wavelength (um)</span></span>
<span id="cb5-23">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"em_wvl"</span> : em_wvl, <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># emission wavelength (um)</span></span>
<span id="cb5-24">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ns"</span>   : DMEM_RI, <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># sample refractive index</span></span>
<span id="cb5-25">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"pinhole_au"</span> : pinhole_au, <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># pinhole size (Airy units)</span></span>
<span id="cb5-26">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"model"</span> : <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"vectorial"</span>,</span>
<span id="cb5-27">}</span>
<span id="cb5-28"></span>
<span id="cb5-29"></span>
<span id="cb5-30">PSF_livecell_2um <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> plotConfocalPSF(X1Params_livecell_2um)</span></code></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="https://willgiang.github.io/posts/2023-06-04_Spinning-Disk-Confocal-PSFs/Spinning-Disk-Confocal-PSFs-with-psfmodels_files/figure-html/cell-6-output-1.png" width="566" height="393"></p>
</div>
</div>
<p>Note how much worse the axial performance is from the spherical aberration induced by RI-mismatch between the sample and immersion oil!</p>


<!-- -->

</section>
</section>

 ]]></description>
  <category>Python</category>
  <category>PSF</category>
  <category>spinning-disk-confocal</category>
  <guid>https://willgiang.github.io/posts/2023-06-04_Spinning-Disk-Confocal-PSFs/Spinning-Disk-Confocal-PSFs-with-psfmodels.html</guid>
  <pubDate>Sun, 04 Jun 2023 04:00:00 GMT</pubDate>
</item>
<item>
  <title>Visualization Options in Fiji</title>
  <dc:creator>William Giang</dc:creator>
  <link>https://willgiang.github.io/posts/2022-11-06_Visualization-in-Fiji/2022-11-06_Visualization-in-Fiji.html</link>
  <description><![CDATA[ 




<section id="selected-visualization-options-in-fiji" class="level1">
<h1>Selected Visualization Options in Fiji</h1>
<p>A curated subset of visualization options within Fiji for labmates.</p>
<p>Example dataset: single-channel z-stack with fluorescently tagged keratin-14</p>
<p>We’ll cover:</p>
<ul>
<li>A common “solution” for seeing fainter structures</li>
<li>A better solution using gamma for seeing fainter structures</li>
<li>Color-coding by orientation</li>
<li>Color-coding by radiality</li>
<li>Color-coding by depth</li>
</ul>
<section id="max-intensity-projection-typical" class="level2">
<h2 class="anchored" data-anchor-id="max-intensity-projection-typical">Max intensity projection (typical)</h2>
<p>First, we’ll load a max intensity projection with brightness &amp; contrast settings chosen such that they are pretty much at the min and max values of the image</p>
<div class="sourceCode" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode java code-with-copy"><code class="sourceCode java"><span id="cb1-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">open</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">(</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"C:/Users/will/Documents/2022-11-06_keratin-visualization/MAX_00-keratin-crop_MIP_130_14000.tif"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">);</span></span>
<span id="cb1-2">orig_name <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">getTitle</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">();</span></span>
<span id="cb1-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">setMinAndMax</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">(</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">130</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">14000</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">);</span></span></code></pre></div>
<p><a href="MIP_130-14000.png"><img src="https://willgiang.github.io/posts/2022-11-06_Visualization-in-Fiji/MIP_130-14000.png" width="250" alt="MAX_00-keratin-crop_MIP_130_14000.tif"></a></p>
<p>This 16-bit image has a fair amount of dynamic range, so it’s tough to make out the fainter keratin filaments.</p>
<p>One common “solution” is by reducing the maximum value within the Brightness and Contrast window, but then the brighter structures appear blown out.</p>
<div class="sourceCode" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode java code-with-copy"><code class="sourceCode java"><span id="cb2-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">run</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">(</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Duplicate..."</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">" "</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">);</span></span>
<span id="cb2-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">setMinAndMax</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">(</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">130</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3100</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">);</span></span></code></pre></div>
<p><a href="MIP_130-3100.png"><img src="https://willgiang.github.io/posts/2022-11-06_Visualization-in-Fiji/MIP_130-3100.png" width="250" alt="MAX_00-keratin-crop_MIP_130_14000-1.tif"></a></p>
</section>
<section id="adjusting-gamma-via-a-look-up-table-lut" class="level2">
<h2 class="anchored" data-anchor-id="adjusting-gamma-via-a-look-up-table-lut">Adjusting gamma via a look-up table (LUT)</h2>
<p>A better solution is to use gamma<sup>1</sup> for adjusting the LUT.</p>
<p>Let’s make use of LUTs<sup>2</sup> that incorporate different gamma values.</p>
<p>From left to right: gamma = 0.25, 0.50, 0.75</p>
<div class="sourceCode" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode java code-with-copy"><code class="sourceCode java"><span id="cb3-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">setMinAndMax</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">(</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">130</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">14000</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">);</span></span>
<span id="cb3-2"></span>
<span id="cb3-3"><span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">for</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">(</span>i <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">25</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span> i <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">;</span>i<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>i<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">25</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">){</span></span>
<span id="cb3-4">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">run</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">(</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Duplicate..."</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">" "</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">);</span></span>
<span id="cb3-5">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">run</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">(</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"JDM Grays g=0."</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> i <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">" "</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">);</span></span>
<span id="cb3-6"><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span></span></code></pre></div>
<p><a href="gamma_0p25.png"><img src="https://willgiang.github.io/posts/2022-11-06_Visualization-in-Fiji/gamma_0p25.png" width="250" alt="gamma=0.25"></a> <a href="gamma_0p50.png"><img src="https://willgiang.github.io/posts/2022-11-06_Visualization-in-Fiji/gamma_0p50.png" width="250" alt="gamma=0.50"></a> <a href="gamma_0p75.png"><img src="https://willgiang.github.io/posts/2022-11-06_Visualization-in-Fiji/gamma_0p75.png" width="250" alt="gamma=0.75"></a></p>
</section>
<section id="adjusting-gamma-using-visualization-toolset" class="level2">
<h2 class="anchored" data-anchor-id="adjusting-gamma-using-visualization-toolset">Adjusting gamma using Visualization Toolset</h2>
<p>However, what if you want a gamma of 0.6?</p>
<p>Using the <a href="https://github.com/kwolbachia/Visualization_toolset">Visualization Toolset</a> from <a href="https://twitter.com/kwolbachia"><span class="citation" data-cites="kWolbachia">@kWolbachia</span></a>, you can freely adjust the gamma on the LUT itself.</p>
<p>By holding the ctrl key and then dragging the mouse side to side, you can easily and quickly find the optimal gamma setting.</p>
</section>
<section id="color-coding-by-orientation" class="level2">
<h2 class="anchored" data-anchor-id="color-coding-by-orientation">Color coding by orientation</h2>
<p>Using <a href="http://bigwww.epfl.ch/demo/orientationj/#analysis">OrientationJ</a>, images can be colored by local orientation and coherency.</p>
<p>Left: Original greyscale</p>
<p>Right: Colored in HSB mode where hue is orientation, saturation is coherency, and brightness comes from original image</p>
<div class="sourceCode" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode java code-with-copy"><code class="sourceCode java"><span id="cb4-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">selectWindow</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">(</span>orig_name<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">);</span></span>
<span id="cb4-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">run</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">(</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Duplicate..."</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">" "</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">);</span></span>
<span id="cb4-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">run</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">(</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"OrientationJ Analysis"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"tensor=2.0 gradient=0 color-survey=on hsb=on hue=Orientation sat=Coherency bri=Original-Image radian=off "</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">);</span></span>
<span id="cb4-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">setMinAndMax</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">(</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">);</span></span></code></pre></div>
<p><a href="MIP_130-14000.png"><img src="https://willgiang.github.io/posts/2022-11-06_Visualization-in-Fiji/MIP_130-14000.png" width="250" alt="MAX_00-keratin-crop_MIP_130_14000-5.tif"></a> <a href="orientation.png"><img src="https://willgiang.github.io/posts/2022-11-06_Visualization-in-Fiji/orientation.png" width="250" alt="OJ-Color-survey-1"></a></p>
</section>
<section id="color-coding-by-radialitynon-radiality" class="level2">
<h2 class="anchored" data-anchor-id="color-coding-by-radialitynon-radiality">Color coding by radiality/non-radiality</h2>
<p>Building on OrientationJ, <a href="https://twitter.com/katpyxa"><span class="citation" data-cites="katpyxa">@katpyxa</span></a> created <a href="https://github.com/ekatrukha/radialitymap">a macro for splitting an image into radial and non-radial components</a>.</p>
<p>Left: Original greyscale</p>
<p>Right: Radial (magenta) and non-radial (cyan) components</p>
<p><a href="MIP_130-14000.png"><img src="https://willgiang.github.io/posts/2022-11-06_Visualization-in-Fiji/MIP_130-14000.png" width="250" alt="MAX_00-keratin-crop_MIP_130_14000-5.tif"></a> <a href="merged-orientation.png"><img src="https://willgiang.github.io/posts/2022-11-06_Visualization-in-Fiji/merged-orientation.png" width="250" alt="merged-orientation.png"></a></p>
</section>
<section id="color-coding-by-depth" class="level2">
<h2 class="anchored" data-anchor-id="color-coding-by-depth">Color coding by depth</h2>
<p>ImageJ/Fiji has a “Temporal-Color Code” feature which works fine if eventually you want a Z-projection.</p>
<p><a href="https://twitter.com/katpyxa"><span class="citation" data-cites="katpyxa">@katpyxa</span></a> has a nice <a href="https://github.com/ekatrukha/ZstackDepthColorCode">plugin</a> for doing depth color coding without Z-projections and with bonus options.</p>
<p>Astute readers will notice that this coverslip was slightly tilted!</p>
<p>Image: Example of Temporal-Color Code with the Fire LUT and increased contrast</p>
<div class="sourceCode" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode java code-with-copy"><code class="sourceCode java"><span id="cb5-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">open</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">(</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"C:/Users/will/Documents/2022-11-06_keratin-visualization/00-keratin-crop.tif"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">);</span></span>
<span id="cb5-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">run</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">(</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Temporal-Color Code"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"lut=Fire start=1 end=18"</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">);</span></span>
<span id="cb5-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">setMinAndMax</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">(</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">,</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">);</span></span></code></pre></div>
<p><a href="Depth-Color-Coded_Fire.png"><img src="https://willgiang.github.io/posts/2022-11-06_Visualization-in-Fiji/Depth-Color-Coded_Fire.png" width="250" alt="MAX_colored"></a></p>
<pre><code></code></pre>


<!-- -->

</section>
</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>See <a href="https://twitter.com/loicaroyer/status/1284331962086248448">here</a> for a nice tweetorial on gamma by <a href="https://twitter.com/loicaroyer"><span class="citation" data-cites="loicaroyer">@loicaroyer</span></a>↩︎</p></li>
<li id="fn2"><p>Thanks to <a href="https://sites.imagej.net/Jdm/luts/">JDM_LUTs</a> and <a href="https://forum.image.sc/t/neurocyto-luts-update-site/26244">NeuroCyto_LUTs</a>!↩︎</p></li>
</ol>
</section></div> ]]></description>
  <category>visualization</category>
  <category>Fiji</category>
  <category>ImageJ</category>
  <guid>https://willgiang.github.io/posts/2022-11-06_Visualization-in-Fiji/2022-11-06_Visualization-in-Fiji.html</guid>
  <pubDate>Sun, 06 Nov 2022 04:00:00 GMT</pubDate>
</item>
<item>
  <title>Insights into Spectra-Physics’ InSight DeepSee</title>
  <dc:creator>William Giang</dc:creator>
  <link>https://willgiang.github.io/posts/2022-09-25_Insights-into-DeepSee/09-2022_InSight_DeepSee.html</link>
  <description><![CDATA[ 




<section id="overview" class="level2">
<h2 class="anchored" data-anchor-id="overview">Overview</h2>
<p>We thought the Nikon A1R MP’s laser system, the Spectra-Physics InSight DeepSee, was in need of repair. After contacting the service engineer for Spectra-Physics, we learned two laser diodes were already replaced with a bill of $30k. We were also warned that the laser power had been reduced, but otherwise the DeepSee should be functional.</p>
<ul>
<li>The liquid in the chiller unit has been flushed and replaced with coolant.</li>
<li>After turning on the microscope and laser systems, it took several days for the laser’s humidity to reach acceptable levels</li>
<li>The power output has been reduced</li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://willgiang.github.io/posts/2022-09-25_Insights-into-DeepSee/img/A1plus_MP_GUI.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Image of A1plus MP GUI</figcaption>
</figure>
</div>
<div class="cell" data-execution_count="1">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> pandas <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> pd</span>
<span id="cb1-2"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> seaborn <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> sns</span>
<span id="cb1-3"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> matplotlib.pyplot <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> plt</span></code></pre></div>
</details>
</div>
</section>
<section id="how-long-does-the-insight-deepsee-need-to-effectively-warm-up" class="level2">
<h2 class="anchored" data-anchor-id="how-long-does-the-insight-deepsee-need-to-effectively-warm-up">How long does the InSight DeepSee need to effectively warm up?</h2>
<p>Sept 20: Turned on all scope components and noticed humidity was too high, so I started logging it</p>
<div class="cell" data-execution_count="2">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1">humidity_csv <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Time_since_DeepSee_turn_on.csv"</span></span>
<span id="cb2-2">humidity_df <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> pd.read_csv(humidity_csv)</span>
<span id="cb2-3"></span>
<span id="cb2-4">humidity_plot <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> sns.scatterplot(data <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> humidity_df,</span>
<span id="cb2-5">                                x <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Time [Minutes]"</span>,</span>
<span id="cb2-6">                                y <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Relative Humidity [%]"</span>,</span>
<span id="cb2-7">                               )</span>
<span id="cb2-8"></span>
<span id="cb2-9">humidity_plot.set_title(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Four days for humidity to stabilize from start-up"</span>)</span>
<span id="cb2-10">humidity_plot.set_xlim(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4500</span>)</span></code></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="2">
<pre><code>(0.0, 4500.0)</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="https://willgiang.github.io/posts/2022-09-25_Insights-into-DeepSee/09-2022_InSight_DeepSee_files/figure-html/cell-3-output-2.png" width="602" height="449"></p>
</div>
</div>
</section>
<section id="how-much-power-did-we-lose-as-a-function-of-wavelength" class="level2">
<h2 class="anchored" data-anchor-id="how-much-power-did-we-lose-as-a-function-of-wavelength">How much power did we lose as a function of wavelength?</h2>
<ul>
<li>Digitized the theoretical tuning power from the manual</li>
<li>There also appears to be a warmup time after turning emission ON</li>
<li>Severe drop in power when laser is tuned above 1000nm</li>
</ul>
<div class="cell" data-execution_count="3">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1">data_csv <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"2022-09-23_laser-power-vs-wavelength_with-theoretical.csv"</span></span>
<span id="cb4-2">df <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> pd.read_csv(data_csv)</span>
<span id="cb4-3"></span>
<span id="cb4-4">palette <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> sns.color_palette(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"mako_r"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>)</span>
<span id="cb4-5">sns.set_theme(style<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"whitegrid"</span>)</span>
<span id="cb4-6"></span>
<span id="cb4-7">g <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> sns.scatterplot(data <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> df,</span>
<span id="cb4-8">                    x <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Wavelength [nm]"</span>,</span>
<span id="cb4-9">                    y <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Power [mW]"</span>,</span>
<span id="cb4-10">                    hue <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Replicate"</span>,</span>
<span id="cb4-11">                    style <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Replicate"</span>,</span>
<span id="cb4-12">                    palette <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> palette,</span>
<span id="cb4-13">                   )</span>
<span id="cb4-14"></span>
<span id="cb4-15">g.set_title(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"InSight DeepSee far from spec </span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">\n</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">at $\lambda$ &gt; 1000nm"</span>)</span>
<span id="cb4-16">g.set_xlim(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">700</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1100</span>)</span>
<span id="cb4-17">g.set_ylim(<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">20</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1400</span>)</span></code></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="3">
<pre><code>(-20.0, 1400.0)</code></pre>
</div>
<div class="cell-output cell-output-display">
<p><img src="https://willgiang.github.io/posts/2022-09-25_Insights-into-DeepSee/09-2022_InSight_DeepSee_files/figure-html/cell-4-output-2.png" width="621" height="472"></p>
</div>
</div>


<!-- -->

</section>

 ]]></description>
  <category>Python</category>
  <category>analysis</category>
  <category>lasers</category>
  <guid>https://willgiang.github.io/posts/2022-09-25_Insights-into-DeepSee/09-2022_InSight_DeepSee.html</guid>
  <pubDate>Sun, 25 Sep 2022 04:00:00 GMT</pubDate>
</item>
<item>
  <title>Welcome To My Blog</title>
  <dc:creator>William Giang</dc:creator>
  <link>https://willgiang.github.io/posts/welcome/index.html</link>
  <description><![CDATA[ 




<p>I set up a website through GitHub Pages with Jekyll a while ago, but I ended up wanting to use the domain as a proof of concept for <a href="https://github.com/WillGiang/microscope-filter-fun">filtering microscopes based on specs</a>. While I like <a href="https://squidfunk.github.io/mkdocs-material/">Material for MkDocs</a> and have successfully used it for hosting <a href="https://willgiang.github.io/scope-docs-site/">scope documentation for a lab spinning disk confocal microscope</a>, I’m not yet at a point where I’d want to toss $15 / month to become an “Insider” to receive certain features.</p>
<p>Surely <a href="https://quarto.org/">Quarto</a> will be what I finally settle on for a personal blog.</p>



 ]]></description>
  <category>news</category>
  <guid>https://willgiang.github.io/posts/welcome/index.html</guid>
  <pubDate>Sun, 25 Sep 2022 04:00:00 GMT</pubDate>
</item>
</channel>
</rss>
